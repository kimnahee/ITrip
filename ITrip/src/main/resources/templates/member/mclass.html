<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout/layout}">
<head>
<meta charset="utf-8" />
	<title>
      Property &mdash; Free Bootstrap 5 Website Template by Untree.co
    </title>
     <script src="js/jquery-3.6.0.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="Untree.co" />
    <link rel="shortcut icon" href="favicon.png" />

    <meta name="description" content="" />
    <meta name="keywords" content="bootstrap, bootstrap5" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="bootstrap/property/fonts/icomoon/style.css" />
    <link rel="stylesheet" href="bootstrap/property/fonts/flaticon/font/flaticon.css" />

    <link rel="stylesheet" href="bootstrap/property/css/tiny-slider.css" />
    <link rel="stylesheet" href="bootstrap/property/css/aos.css" />
    <link rel="stylesheet" href="bootstrap/property/css/style.css" />

	<style>
    
    .tns-horizontal.tns-subpixel>.tns-item {
     vertical-align: bottom;
    }
    .property-item .property-content {
       margin-top: 0px;
    }
    .img-fluid {
    max-width: none;
     height: 200px; 
}

	


    </style>
    
</head>
<body  layout:fragment="content">
 <!-- About Start -->
    <div class="text-center">
        <div class="bg-primary mb-3 mx-auto" style="width: 60px; height: 2px;"></div>
        <h1 class="display-5 mb-5">My Page</h1>
    </div>
     <!-- Projects Start -->
           
    <div class="section ">
      <div class="container">
        <div class="row mb-5 align-items-center">
          <div class="col-lg-6">
            <h2 class="font-weight-bold text-primary heading">Class</h2>
          </div>
        </div>
        
		<div class="row" th:if="${#lists.isEmpty(classList)}">
						<div>
							<div class="container text-center pt-32" >
								<h1 class='error-title'>진행중인 Class가 없습니다.</h1>
								<p>새로운 class를 신청해주세요.</p>
								<a href="myPage">Go Mypage</a>
							</div>
						</div>
					</div>        
        
        <div class="row">
          <div class="col-12" th:unless="${#lists.isEmpty(classList)}">
            <div class="property-slider-wrap">
              <div class="property-slider">
              <div class="card col-xs-12 col-sm-6 col-md-5 col-lg-3" th:each="cList : ${classList}">
              
                <!-- .item -->
                <div class="property-item mb-30">
                  <a href="#" class="img">
                    <img th:src="@{*{cList.attachDir}}" alt="Image" class="img-fluid"  />
                  </a>
                  <div class="property-content">
                    <div class="price mb-2"><span th:text=${cList.price} class="cPrice"></span></div>
                    <div>  
                      <span class="caption badge bg-warning" th:text="${cList.term}"></span>
                      <span class="city d-block mb-3" th:text="${cList.title}" style="font-size: 18px;"></span>
                      
                      <div class="">
                        <span class="">주요기능</span>
                        <h5 class="card-title" th:text="${cList.cdName}"></h5>  
                      </div>                                               
                      <div class="">
                      	<span class="">정원 </span>
                      	<h5 class="card-title" th:text="${cList.psncpa}+명"></h5>
                      </div>                    
                     <form class="token" action="mcReview" method="post">
                		<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
                      	<input name="guideId" id="guideId" th:value="${cList.guideId}" type="hidden">
                      	<button type="submit" class="btn btn-primary py-2 px-3 classInfo">리뷰</button>
                        <a href="/"class="btn btn-primary py-2 px-3 classInfo">링크</a>
                        <a href="/"class="btn btn-primary py-2 px-3 classInfo">수료증</a>
                	</form>
                   <!--     <a class="btn btn-primary py-2 px-3 classInfo mcReview">리뷰</a> -->
                         <div th:text="${cList.classNo}" style="display: none"></div>
                    </div>
                  </div>
                </div>
                </div>
                 
              </div>

              <div
                id="property-nav"
                class="controls"
                tabindex="0"
                aria-label="Carousel Navigation"
              >
                <span
                  class="prev"
                  data-controls="prev"
                  aria-controls="property"
                  tabindex="-1"
                  >Prev</span
                >
                <span
                  class="next"
                  data-controls="next"
                  aria-controls="property"
                  tabindex="-1"
                  >Next</span
                >
              </div>
            </div>
          </div>
        </div>
        <br><br>
            
      </div>
    </div>

    <script src="bootstrap/property/js/bootstrap.bundle.min.js"></script>
    <script src="bootstrap/property/js/tiny-slider.js"></script>
    <script src="bootstrap/property/js/aos.js"></script>
    <script src="bootstrap/property/js/navbar.js"></script>
    <script src="bootstrap/property/js/counter.js"></script>
    <script src="bootstrap/property/js/custom.js"></script>
            
        
    
    <!-- Projects End -->
    
    
	<script type="text/javascript">
	let cPrice = document.getElementsByClassName("cPrice")
	let guideId = $("#guideId").val();
	
    for (let i = 0; i < cPrice.length; i++){
    	cPrice[i].innerText=cPrice[i].innerText.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g, ",")
    }
	
	$("#classList").on("click",".classInfo",function(){
    	let no =  event.target.nextElementSibling.innerHTML
    	frm.action ="iClassSelectOne.do"
    	frm.classNo.value = no
    	frm.submit()
    }) 
    
    // 클래스 리뷰
   /*  $(".mcReview").on("click", function() {
    	console.log(guideId);
    	location.href = "/mcReview?guideId=" + guideId;
    }) */
    
    
    
	</script>
</body>
</html>